<!--
copyright (c) 2014 the polymer project authors. all rights reserved.
this code may only be used under the bsd style license found at http://polymer.github.io/license.txt
the complete set of authors may be found at http://polymer.github.io/authors.txt
the complete set of contributors may be found at http://polymer.github.io/contributors.txt
code distributed by google as part of the polymer project is also
subject to an additional ip rights grant found at http://polymer.github.io/patents.txt
-->

<!--
`paper-ripple` provides a visual effect that other paper elements can
use to simulate a rippling effect emanating from the point of contact.  the
effect can be visualized as a concentric circle with motion.

example:

    <paper-ripple></paper-ripple>

`paper-ripple` listens to "down" and "up" events so it would display ripple
effect when touches on it.  you can also defeat the default behavior and
manually route the down and up actions to the ripple element.  note that it is
important if you call downaction() you will have to make sure to call upaction()
so that `paper-ripple` would end the animation loop.

example:

    <paper-ripple id="ripple" style="pointer-events: none;"></paper-ripple>
    ...
    downaction: function(e) {
      this.$.ripple.downaction({x: e.x, y: e.y});
    },
    upaction: function(e) {
      this.$.ripple.upaction();
    }

styling ripple effect:

  use css color property to style the ripple:

    paper-ripple {
      color: #4285f4;
    }

  note that css color property is inherited so it is not required to set it on
  the `paper-ripple` element directly.

apply `recenteringtouch` class to make the recentering rippling effect.

    <paper-ripple class="recenteringtouch"></paper-ripple>

apply `circle` class to make the rippling effect within a circle.

    <paper-ripple class="circle"></paper-ripple>

@group paper elements
@element paper-ripple
@homepage github.io
-->

<link rel="import" href="../polymer/polymer.html" >

<polymer-element name="paper-ripple" attributes="initialopacity opacitydecayvelocity">
<template>

  <style>

    :host {
      display: block;
      position: relative;
      border-radius: inherit;
      overflow: hidden;
    }

    :host-context([noink]) {
      pointer-events: none;
    }

    #bg, #waves, .wave-container, .wave {
      pointer-events: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    #bg, .wave {
      opacity: 0;
    }

    #waves, .wave {
      overflow: hidden;
    }

    .wave-container, .wave {
      border-radius: 50%;
    }

    :host(.circle) #bg,
    :host(.circle) #waves {
      border-radius: 50%;
    }

    :host(.circle) .wave-container {
      overflow: hidden;
    }

  </style>

  <div id="bg"></div>
  <div id="waves">
  </div>

</template>
<script src="paper-ripple.html_csp.js"></script>
</polymer-element>
